<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> Service Snake </title>
<style>
  body { 
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif; 
    text-align: center; 
    background: linear-gradient(to bottom, #0b0b0b, #1c1c1c); 
    color: #e0e0e0; 
    margin:0; 
    padding:0;
  }
  h1 {
    color: #00a1e0; 
    margin: 20px 0;
  }
  #gameCanvas { 
    background: #111; 
    display: block; 
    margin: 0 auto; 
    border: 4px solid #00a1e0; 
    border-radius: 12px;
    width: 90vw;
    height: 90vw;
    max-width: 400px;
    max-height: 400px;
  }
  #controls {
    width: 90vw;
    max-width: 40px;
    margin: 20px auto 40px;
    display: grid;
    grid-template-areas: 
      "up up up"
      "left down right";
    gap: 10px;
  }
  #up { grid-area: up; }
  #left { grid-area: left; }
  #down { grid-area: down; }
  #right { grid-area: right; }

  button {
    background: #00a1e0;
    border: none;
    color: #fff;
    font-size: 24px;
    padding: 15px;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    transition: all 0.2s ease-in-out;
    width: 100%;
    aspect-ratio: 1/1;
  }
  button:active {
    transform: scale(0.95);
    background: #007bbf;
  }
  #info p {
    margin: 5px 0;
    font-size: 14px;
    color: #c0c0c0;
  }
  footer {
    margin-top: 30px;
    font-size: 12px;
    color: #888;
  }
</style>
</head>
<body>
  <h1>Service Snake</h1>

  <canvas id="gameCanvas"></canvas>

  <div id="controls">
    <button id="up">↑</button>
    <button id="left">←</button>
    <button id="down">↓</button>
    <button id="right">→</button>
  </div>

  <div id="info">
    <p>Use Cursor to Play.</p>
    <p>.</p>
  </div>

<script>
(() => {
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');

  const gridCount = 10; // Ajusta para o tamanho do canvas
  let gridSize;

  function resizeCanvas() {
    const size = Math.min(window.innerWidth*0.9, 400);
    canvas.width = size;
    canvas.height = size;
    gridSize = canvas.width / gridCount;
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  let headImg = new Image();
  headImg.src = "https://raw.githubusercontent.com/Tofast78/Cobra/c144bcafbf8d6cbbc38193270c57abaaef1e0a98/assa_van.jpg";

  let foodImg = new Image();
  foodImg.src = "https://raw.githubusercontent.com/Tofast78/Cobra/c144bcafbf8d6cbbc38193270c57abaaef1e0a98/roller_cobra.jpg";

  let snake = [{x:5, y:5}];
  let snakeDir = {x:0, y:0};
  let food = {x:2, y:2};
  let snakeBodyImgs = [];

  function placeFood() {
    let x, y;
    do {
      x = Math.floor(Math.random() * gridCount);
      y = Math.floor(Math.random() * gridCount);
    } while (snake.some(s => s.x === x && s.y === y));
    food = {x, y};
  }

  function update() {
    if (snakeDir.x === 0 && snakeDir.y === 0) { draw(); return; }

    let head = {x: snake[0].x + snakeDir.x, y: snake[0].y + snakeDir.y};
    head.x = (head.x + gridCount) % gridCount;
    head.y = (head.y + gridCount) % gridCount;

    if (snake.some(s => s.x === head.x && s.y === head.y)) { resetGame(); return; }

    snake.unshift(head);

    if (head.x === food.x && head.y === food.y) {
      snakeBodyImgs.push(foodImg);
      placeFood();
    } else {
      snake.pop();
      snakeBodyImgs.pop();
    }

    draw();
  }

  function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.drawImage(foodImg, food.x*gridSize, food.y*gridSize, gridSize, gridSize);
    for (let i=snake.length-1; i>0; i--) {
      let seg = snake[i];
      ctx.drawImage(foodImg, seg.x*gridSize, seg.y*gridSize, gridSize, gridSize);
    }
    ctx.drawImage(headImg, snake[0].x*gridSize, snake[0].y*gridSize, gridSize, gridSize);
  }

  function resetGame() {
    snake = [{x:5, y:5}];
    snakeDir = {x:0, y:0};
    snakeBodyImgs = [];
    placeFood();
  }

  window.addEventListener('keydown', e => {
    switch(e.key) {
      case 'ArrowUp': if(snakeDir.y!==1) snakeDir={x:0,y:-1}; break;
      case 'ArrowDown': if(snakeDir.y!==-1) snakeDir={x:0,y:1}; break;
      case 'ArrowLeft': if(snakeDir.x!==1) snakeDir={x:-1,y:0}; break;
      case 'ArrowRight': if(snakeDir.x!==-1) snakeDir={x:1,y:0}; break;
    }
  });

  document.getElementById('up').addEventListener('click', () => { if(snakeDir.y!==1) snakeDir={x:0,y:-1}; });
  document.getElementById('down').addEventListener('click', () => { if(snakeDir.y!==-1) snakeDir={x:0,y:1}; });
  document.getElementById('left').addEventListener('click', () => { if(snakeDir.x!==1) snakeDir={x:-1,y:0}; });
  document.getElementById('right').addEventListener('click', () => { if(snakeDir.x!==-1) snakeDir={x:1,y:0}; });

  resetGame();
  setInterval(update, 200);
})();
</script>

<footer>
  <a href="https://es.web-counter.net" title="contador de visitas">
    <img src="https://www.web-counter.net/count_20091204.php?c=bYliCMnxks5" style="border:0;padding:0;margin:0;" alt="contador de visitas">
  </a><br/>
  <a href="https://tr.web-counter.net" title="Sayaç"></a> | 
  <a href="https://es.web-counter.net" title="contador de visitas"></a>
</footer>

</body>
</html>




